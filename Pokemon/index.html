<!DOCTYPE html>
<html>
<head>
  <title>Lumiose Map Marker Tool</title>
  <style>
    body { margin: 0; background: #222; }
    #map {
      display: block;
      margin: 0 auto;
      position: relative;
      cursor: crosshair;
      max-width: 100%;
    }
  </style>
</head>
<body>

<img id="map" src="lumiose_city_BLE.png">

<script>
// storage
let markers = [];

// click → store coords
document.getElementById("map").addEventListener("click", function(e) {
    const rect = this.getBoundingClientRect();
    const x = Math.round(e.clientX - rect.left);
    const y = Math.round(e.clientY - rect.top);

    const entry = { x, y };
    markers.push(entry);
    console.log("Marker added:", entry);
});

// press S → download markers.json
document.addEventListener("keydown", function(e) {
  if (e.key === "s") {
    const blob = new Blob([JSON.stringify(markers, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "markers.json";
    a.click();
  }
});
</script>

</body>
</html>
